# Ragam Textiles - Advanced Carousel Component

## Overview

This document describes the HTML, CSS, and JavaScript based carousel component designed for Ragam Textiles. It aims to be responsive, accessible, and configurable for various use cases like product showcases, image galleries, and featured content.

## Features (Target)

*   **Multi-item Display:** Supports showing multiple slides simultaneously.
*   **Navigation Controls:** Previous/Next arrow buttons.
*   **Indicator Dots:** Shows current position and allows direct navigation.
*   **Auto-play:** Automatic slide progression with pause on hover.
*   **Infinite Loop:** Seamless transition from the last slide to the first.
*   **Touch/Swipe Support:** Mobile gesture-based navigation.
*   **Flexible Content:** Can host images, text, or mixed content within slides.
*   **Lazy Loading:** Optimizes image loading by only loading images when they are about to enter the viewport.
*   **Keyboard Navigation:** Full accessibility via keyboard (arrows, Tab, Enter).
*   **Screen Reader Support:** ARIA attributes for compatibility with assistive technologies.
*   **Configurable:** Behavior and appearance can be customized via a JavaScript options object.

## File Structure

*   **`static/js/new_carousel.js`**: Contains all JavaScript logic for the carousel functionality.
*   **`static/css/new_carousel.css`**: Contains all CSS styling for the carousel component.
*   **`templates/components/new_carousel_component.html`**: A Jinja2 macro/template partial that renders the HTML structure of the carousel. It accepts slide data and configuration options.
*   **`templates/carousel_demo.html`**: A standalone demo page for developing, testing, and showcasing the carousel component.
*   **`README_carousel.md`**: This documentation file.

## HTML Structure (Core)

The basic HTML structure generated by the `new_carousel_component.html` macro will be:

```html
<div class="carousel-container" id="[unique_carousel_id]">
  <div class="carousel-wrapper">
    <div class="carousel-track">
      <!-- Populated by slide data -->
      <div class="carousel-slide">
        <!-- Slide Content (e.g., img, div with text) -->
      </div>
      <!-- More slides -->
    </div>
  </div>
  <button class="carousel-btn prev-btn" aria-label="Previous slide">‹</button>
  <button class="carousel-btn next-btn" aria-label="Next slide">›</button>

  <div class="carousel-indicators">
    <!-- Populated based on slide count -->
    <button class="indicator active" aria-label="Go to slide 1"></button>
    <button class="indicator" aria-label="Go to slide 2"></button>
    <!-- More indicators -->
  </div>
</div>
```

## CSS Styling

The styling is handled by `new_carousel.css`. Key aspects:
*   Mobile-first responsive design.
*   Uses CSS variables for theming (though initial version might have hardcoded values, to be integrated with main `style.css` variables later).
*   Smooth transitions for slide movement.
*   Clear visual states for navigation elements (hover, active, focus).

## JavaScript Functionality

The `new_carousel.js` script will handle:
*   DOM element selection.
*   Event handling for navigation (buttons, indicators, keyboard, touch).
*   Slide logic (calculating translations, updating active states).
*   Auto-play timer management.
*   Infinite loop implementation.
*   Responsive adjustments based on configuration.
*   Lazy loading of images.
*   Accessibility updates (ARIA attributes).

### Configuration Example (Target)

The carousel will be configurable via a JavaScript object passed during instantiation.

```javascript
const defaultConfig = {
  id: 'defaultCarousel', // Unique ID for the carousel container
  autoPlay: true,
  autoPlayInterval: 3000, // milliseconds
  pauseOnHover: true,
  infiniteLoop: true,
  showIndicators: true,
  showArrows: true,
  slidesToShow: 1, // Default for mobile
  slidesToScroll: 1,
  transitionSpeed: 300, // milliseconds
  // Responsive settings: array of objects
  // Each object specifies a breakpoint and settings to apply at that breakpoint
  responsive: [
    { breakpoint: 768, settings: { slidesToShow: 2, slidesToScroll: 2 } },
    { breakpoint: 1024, settings: { slidesToShow: 3, slidesToScroll: 1 } }
    // Add more breakpoints as needed
  ]
};
```

## Setup and Usage (Basic - using the Jinja macro)

1.  **Ensure CSS and JS are loaded:**
    Make sure `new_carousel.css` is linked in your HTML's `<head>` or the relevant template block, and `new_carousel.js` is included before the closing `</body>` tag (preferably with `defer`).

2.  **Prepare Slide Data:**
    In your Flask route or template, prepare a list of dictionaries or objects, where each item represents a slide and contains data like `image_url`, `caption`, `alt_text`, etc.

3.  **Render the Carousel using the Macro:**
    Import and call the macro in your Jinja2 template:

    ```jinja
    {% from "components/new_carousel_component.html" import render_carousel %}

    {# ... your slide data preparation ... #}
    {% set my_slides = [
        { 'image_url': 'path/to/image1.jpg', 'caption': 'Caption 1' },
        { 'image_url': 'path/to/image2.jpg', 'caption': 'Caption 2' }
    ] %}

    {# Render with default config #}
    {{ render_carousel(my_slides) }}

    {# Render with a unique ID and placeholder for future JS config #}
    {{ render_carousel(my_slides, {'id': 'myCustomCarousel'}) }}
    ```

4.  **JavaScript Instantiation (Conceptual - to be fully developed):**
    The `new_carousel.js` script will need to find carousel containers on the page and initialize them. This might involve:
    ```javascript
    // In new_carousel.js
    // class Carousel { constructor(element, config) { /* ... */ } }
    // document.querySelectorAll('.carousel-container').forEach(container => {
    //   // Logic to parse config if provided via data-attributes or a global JS object
    //   new Carousel(container, parsedConfig);
    // });
    ```

## Development & Testing

*   Use the `carousel_demo.html` page (accessible via a dedicated Flask route - to be created) for focused development and testing of the component in isolation.
*   Test across different browsers and device sizes.
*   Use accessibility checking tools.

## Troubleshooting (To be expanded)

*   **Carousel not appearing:** Check CSS paths, ensure slide data is being passed correctly.
*   **Navigation not working:** Check JavaScript console for errors, ensure correct DOM element selection.

---
This README will be updated as development progresses.
